(function(){var n;$("#body-wrapper").on("click",".answer-to-comment",function(){var n;return n=$(this),n.hasClass("answerin-to")?($("#CreateModel_ParentCommentId").val(""),n.removeClass("answerin-to")):($(".answerin-to").removeClass("answerin-to"),$("#CreateModel_ParentCommentId").val(n.data("id")),$("#CreateModel_Body").val(n.closest(".game-comment").find(".author-name").text()+", "+$("#CreateModel_Body").val()),n.addClass("answerin-to")),changeFormClass($("#CreateModel_Body"))});n=null;$("#body-wrapper").on("mousedown",function(){var t;return t=window.getSelection().rangeCount===1,t?n=window.getSelection().getRangeAt(0):void 0});$("#body-wrapper").on("click",".quote-comment",function(t){var r,u,i,f,e;return t.preventDefault(),i=$(this),i.hasClass("quotin")?($("quote[data-id='"+i.data("id")+"']").remove(),i.removeClass("quotin")):(u=i.closest(".game-comment"),r=u.find(".comment-body"),e=n&&n.toString()!==""&&n.intersectsNode(r[0])&&n.startContainer===n.endContainer?n.toString():r.html(),f=u.find(".author-name").text(),$(".quotes").append("<quote data-id='"+i.data("id")+"'> <h4 class='quote-author-name'> <b>"+f+"<\/b> wrote<\/h4><div class='quote-body'>"+e+"<\/div><\/quote>"),i.addClass("quotin"))});$("input[type='submit']").on("click",function(n){var t;return n.preventDefault(),t=$("textarea"),$.ajax({type:"POST",url:$("form").attr("action"),contentType:"application/json",data:JSON.stringify({"CreateModel.ParentCommentId":$("#CreateModel_ParentCommentId").val(),"CreateModel.Name":$("#CreateModel_Name").val(),"CreateModel.Quotes":$(".quotes").html(),"CreateModel.Body":t.val()}),success:function(){return location.reload()}})});$("#body-wrapper").on("click",".delete-comment-button",function(){var n,t,i;return n=$(this).data("href"),t=$(this).data("id"),i=new Modal({headerText:"Confirm",message:"Are you sure, you wanna delete this comment?"},{success:function(){return $.ajax({type:"POST",url:n,contentType:"application/json",data:JSON.stringify({id:t}),success:function(n){return console.log(n),location.reload()}})},cancel:function(){return $("#body-wrapper").removeClass("blured")}}),$("#body-wrapper").addClass("blured"),i.open()})}).call(this);
//# sourceMappingURL=comments.min.js.map
